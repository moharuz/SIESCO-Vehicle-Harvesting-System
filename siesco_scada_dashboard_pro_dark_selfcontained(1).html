<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SIESCO Vehicle Harvesting System — SCADA Pro (Dark, Self‑Contained)</title>
<style>
  :root{
    --bg:#0f141a;
    --panel:#151b23;
    --panel-2:#1b2430;
    --text:#e8eef5;
    --muted:#a7b2c3;
    --accent:#00d4ff;
    --good:#3ddc97;
    --warn:#ffd166;
    --bad:#ff6b6b;
    --card:#121821;
    --grid:#2a3442;
    --kpi:#0c1117;
    --shadow: 0 10px 24px rgba(0,0,0,.35);
  }
  * { box-sizing: border-box; }
  html, body { height:100%; }
  body{
    margin:0; background:var(--bg); color:var(--text); font: 15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }
  header{
    display:flex; align-items:center; justify-content:space-between;
    gap:16px; padding:16px 20px; background:linear-gradient(180deg, #121721 0%, #0f141a 100%);
    border-bottom:1px solid #1f2a37; position:sticky; top:0; z-index:50;
  }
  .brand{display:flex; align-items:center; gap:14px;}
  .logo{
    width:44px; height:44px; border-radius:12px;
    background: radial-gradient(75% 75% at 30% 30%, #18bfff 0%, #0066ff 60%, #00172e 100%);
    box-shadow: inset 0 0 18px rgba(255,255,255,.15), 0 8px 24px rgba(0,102,255,.25);
    position:relative;
  }
  .logo::after{
    content:""; position:absolute; inset:10px; border-radius:8px;
    background: conic-gradient(from 180deg, rgba(255,255,255,.2), transparent 35%, rgba(255,255,255,.15) 65%, transparent 100%);
    filter: blur(4px);
  }
  h1{margin:0; font-size:20px; letter-spacing:.3px; font-weight:700;}
  .toolbar{display:flex; align-items:center; gap:10px; flex-wrap:wrap;}
  .pill{
    background:var(--panel); border:1px solid #223043; border-radius:14px; padding:8px 10px; display:flex; align-items:center; gap:8px;
  }
  .pill input[type="number"]{width:80px;}
  label{color:var(--muted); font-size:13px;}
  input, select{
    background:#0b1016; border:1px solid #223043; color:var(--text);
    padding:6px 8px; border-radius:8px; outline:none;
  }
  input[type="checkbox"]{ width:18px; height:18px; accent-color: var(--accent); }
  main{ padding:18px; }
  .tabs{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:14px; }
  .tab{
    padding:10px 14px; border-radius:10px; background:var(--panel);
    border:1px solid #223043; cursor:pointer; color:var(--muted);
  }
  .tab.active{ background:#0c1117; color:var(--text); border-color:#345072; }
  .screen{ display:none; }
  .screen.active{ display:block; }
  .grid{
    display:grid; gap:14px;
  }
  .scada-layout{
    display:grid; grid-template-columns: 1.2fr 2fr 0.9fr; gap:16px;
  }
  .card{
    background:var(--panel); border:1px solid #223043; border-radius:14px; padding:14px; box-shadow:var(--shadow);
  }
  .card h3{ margin:0 0 10px 0; font-size:14px; color:var(--muted); font-weight:600; letter-spacing:.4px; text-transform:uppercase; }
  .kpi-row{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:14px; margin-bottom:14px;}
  .kpi{
    background:var(--kpi); border:1px solid #223043; border-radius:14px; padding:14px; display:flex; flex-direction:column; gap:10px;
  }
  .kpi .label{ font-size:12px; color:var(--muted); text-transform:uppercase; letter-spacing:.4px;}
  .kpi .value{ font-size:26px; font-weight:800; letter-spacing:.5px;}
  .kpi.good .value{ color:var(--good); }
  .kpi.bad .value{ color:var(--bad); }
  .kpi .sub{ font-size:12px; color:var(--muted); }
  .ring{
    --size: 64px; width:var(--size); height:var(--size); border-radius:50%;
    background: conic-gradient(var(--good) calc(var(--p,50)*1%), #2b3645 0);
    display:grid; place-items:center; font-weight:700; font-size:14px; color:#eafbf2;
    border:2px solid #243246;
  }
  .flex{ display:flex; gap:12px; align-items:center; }
  .right{ text-align:right; }
  .small{ font-size:12px; color:var(--muted); }
  .flow{
    background:var(--card); border:1px dashed #2a3a52; border-radius:14px; padding:10px;
  }
  .flow svg{ width:100%; height:540px; display:block; }
  .legend{ display:flex; gap:10px; flex-wrap:wrap; }
  .legend .dot{ width:10px; height:10px; border-radius:50%; display:inline-block; margin-right:6px; }
  .legend span{ color:var(--muted); font-size:12px; }
  .btn{
    background:#0e1520; border:1px solid #2b3d57; color:var(--text); padding:10px 12px;
    border-radius:10px; cursor:pointer; font-weight:600;
  }
  .btn.on{ border-color:#2a5f43; background:#0d1b15; color:#a7f3d0; }
  .btn.warn{ border-color:#5f3b2a; color:#ffd7ae; }
  .btn:active{ transform: translateY(1px); }
  canvas.chart{ width:100%; height:200px; background:#0b1118; border-radius:12px; border:1px solid #223043; display:block;}
  .mini{ height:60px !important; }
  table{ width:100%; border-collapse:collapse; font-size:14px; }
  th, td{ padding:10px 8px; border-bottom:1px solid #223043; }
  th{ text-align:left; color:#b9c6d8; font-weight:700; background:#0f1823; position:sticky; top:0; }
  .money.plus{ color:var(--good); }
  .money.minus{ color:var(--bad); }
  .muted{ color:var(--muted); }
  .center{ text-align:center; }
  .two-col{ display:grid; grid-template-columns: 1fr 1fr; gap:14px; }
  @media (max-width:1100px){
    .kpi-row{ grid-template-columns: 1fr 1fr; }
    .scada-layout{ grid-template-columns: 1fr; }
  }
</style>
</head>
<body>
<!-- جميع عناصر الصفحة كما هو مطلوب (الهيدر، لوحة التحكم، الجداول، الرسوم البيانية، إلخ) -->
<!-- ... -->
<script>
/* جميع أكواد الجافاسكريبت كما في النسخة المصححة السابقة */
</script>
</body>
</html>